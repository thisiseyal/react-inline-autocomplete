{"version":3,"file":"index.umd.js","sources":["../lib/key-enum.ts","../lib/index.tsx"],"sourcesContent":["export enum KeyEnum {\n  TAB = 'Tab',\n  ENTER = 'Enter',\n  ARROW_UP = 'ArrowUp',\n  ARROW_DOWN = 'ArrowDown',\n}\n","import React, { useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport ignoreCase from 'ignore-case';\nimport { KeyEnum } from './key-enum';\nimport styles from './index.module.css';\n\nexport interface Props {\n  value?: string;\n  dataSource: DataSourceItem[];\n  className?: string;\n  style?: React.CSSProperties;\n  placeholder?: string;\n  disabled?: boolean;\n  navigate?: boolean;\n  caseSensitive?: boolean;\n  onBlur?: () => void;\n  onFocus?: () => void;\n  onChange?: (value: string) => void;\n  onPressEnter?: (value: string) => void;\n  onSelect?: (item: DataSourceItem) => void;\n}\n\nexport interface DataSourceItem {\n  text: string;\n  value: string | number;\n  [key: string]: any;\n}\n\nconst Autocomplete: React.ForwardRefRenderFunction<HTMLInputElement, Props> = (props, ref) => {\n  const {\n    value,\n    dataSource,\n    className,\n    navigate = true,\n    caseSensitive = true,\n    onBlur,\n    onFocus,\n    onChange,\n    onPressEnter,\n    onSelect,\n    ...others\n  } = props;\n  const [innerVal, setInnerVal] = useState('');\n  const [matchedDataSource, setMatchedDataSource] = useState<DataSourceItem[]>();\n  const [activeIndex, setActiveIndex] = useState(0);\n  const ctrlValue = value ?? innerVal;\n\n  /**\n   * inputRef\n   */\n  const inputRef = useRef<HTMLInputElement>();\n  React.useImperativeHandle(ref, () => inputRef.current!);\n\n  const updateValue = (value: string) => {\n    onChange && onChange(value);\n    setInnerVal(value);\n  };\n\n  const findMatchedDataSourceItem = (value: string) => {\n    return dataSource.filter(({ text }) => {\n      return caseSensitive\n        ? text.startsWith(value) && text !== value\n        : ignoreCase.startsWith(text, value) && !ignoreCase.equals(text, value);\n    })\n  }\n\n  const updateMatchedDataSource = (value?: string) => {\n    setActiveIndex(0);\n    value\n      ? setMatchedDataSource(\n        findMatchedDataSourceItem(value)\n        )\n      : setMatchedDataSource([]);\n  };\n\n  /**\n   * InputChange Handler\n   * @param e\n   */\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    updateValue(value);\n    updateMatchedDataSource(value);\n  };\n\n  /**\n   * KeyDown Handler\n   * deal with `Tab` | `Enter` | `ArrowUp` | `ArrowDown`\n   * @param e\n   */\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (Object.values(KeyEnum).includes(e.key as KeyEnum)) {\n      (e.key !== KeyEnum.TAB) && e.preventDefault();\n    }\n\n    const matchedDataSourceItem = matchedDataSource?.[activeIndex];\n\n    switch (e.key) {\n      case KeyEnum.TAB:\n        if (!matchedDataSourceItem) return;\n\n        /**\n         * onChange >>> onSelect >>> Search matched item\n         */\n        const { text } = matchedDataSourceItem;\n        updateValue(text);\n        onSelect && onSelect(matchedDataSourceItem);\n        updateMatchedDataSource(text);\n        break;\n      case KeyEnum.ENTER:\n        /**\n         * onPressEnter >>> Reset\n         */\n        \n        onPressEnter && onPressEnter(ctrlValue);\n        updateMatchedDataSource();\n        break;\n      case KeyEnum.ARROW_UP:\n        if (!navigate) break;\n\n        setActiveIndex((idx) => {\n          if (matchedDataSource?.length) {\n            return (idx - 1 + matchedDataSource.length) % matchedDataSource.length;\n          }\n          return 0;\n        });\n        break;\n      case KeyEnum.ARROW_DOWN:\n        if (!navigate) break;\n\n        setActiveIndex((idx) => {\n          if (matchedDataSource?.length) {\n            return (idx + 1) % matchedDataSource.length;\n          }\n          return 0;\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  const breakUp = () => {\n    return matchedDataSource?.[activeIndex]?.text\n      ? `${ctrlValue}${matchedDataSource[activeIndex].text.slice(ctrlValue.length)}`\n      : undefined;\n  };\n\n  const wrapClassString = classNames('ria-wrap', styles['inline-autocomplete-wrap'], className); // `className` should cover `styles.wrap`\n  const inputClassString = classNames('ria-input', styles['inline-autocomplete-input']);\n  const completeClassString = classNames('ria-complete', styles['inline-autocomplete-complete']);\n  const completeContent = breakUp();\n\n  return (\n    <div className={wrapClassString}>\n      <input\n        ref={inputRef as any}\n        className={inputClassString}\n        value={ctrlValue}\n        type=\"text\"\n        onBlur={onBlur}\n        onFocus={onFocus}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        {...others}\n      />\n      <div className={completeClassString}>{completeContent}</div>\n    </div>\n  );\n};\n\nconst RefAutoComplete = React.forwardRef<HTMLInputElement, Props>(Autocomplete);\nexport { RefAutoComplete as InlineAutocomplete };\n\nconst TextAreaAutocomplete: React.ForwardRefRenderFunction<HTMLTextAreaElement, Props> = (props, ref) => {\n  const {\n    value,\n    dataSource,\n    className,\n    navigate = true,\n    caseSensitive = true,\n    onBlur,\n    onFocus,\n    onChange,\n    onPressEnter,\n    onSelect,\n    ...others\n  } = props;\n  const [innerVal, setInnerVal] = useState('');\n  const [matchedDataSource, setMatchedDataSource] = useState<DataSourceItem[]>();\n  const [activeIndex, setActiveIndex] = useState(0);\n  const ctrlValue = value ?? innerVal;\n\n  /**\n   * inputRef\n   */\n  const inputRef = useRef<HTMLTextAreaElement>();\n  React.useImperativeHandle(ref, () => inputRef.current!);\n\n  const updateValue = (value: string) => {\n    onChange && onChange(value);\n    setInnerVal(value);\n  };\n\n  const updateMatchedDataSource = (value?: string) => {\n    setActiveIndex(0);\n    value\n      ? setMatchedDataSource(\n          dataSource.filter(({ text }) => {\n            return caseSensitive\n              ? text.startsWith(value) && text !== value\n              : ignoreCase.startsWith(text, value) && !ignoreCase.equals(text, value);\n          })\n        )\n      : setMatchedDataSource([]);\n  };\n\n  /**\n   * InputChange Handler\n   * @param e\n   */\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value;\n    updateValue(value);\n    updateMatchedDataSource(value);\n  };\n\n  /**\n   * KeyDown Handler\n   * deal with `Tab` | `Enter` | `ArrowUp` | `ArrowDown`\n   * @param e\n   */\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (Object.values(KeyEnum).includes(e.key as KeyEnum)) {\n      (e.key != KeyEnum.TAB) && e.preventDefault();\n    }\n\n    switch (e.key) {\n      case KeyEnum.TAB:\n        const matchedDataSourceItem = matchedDataSource?.[activeIndex];\n        if (!matchedDataSourceItem) return;\n\n        /**\n         * onChange >>> onSelect >>> Search matched item\n         */\n        const { text } = matchedDataSourceItem;\n        updateValue(text);\n        onSelect && onSelect(matchedDataSourceItem);\n        updateMatchedDataSource(text);\n        break;\n      case KeyEnum.ENTER:\n        /**\n         * onPressEnter >>> Just add a new line\n         */\n        updateValue(`${ctrlValue}\\n`);\n\n        break;\n      case KeyEnum.ARROW_UP:\n        if (!navigate) break;\n\n        setActiveIndex((idx) => {\n          if (matchedDataSource?.length) {\n            return (idx - 1 + matchedDataSource.length) % matchedDataSource.length;\n          }\n          return 0;\n        });\n        break;\n      case KeyEnum.ARROW_DOWN:\n        if (!navigate) break;\n\n        setActiveIndex((idx) => {\n          if (matchedDataSource?.length) {\n            return (idx + 1) % matchedDataSource.length;\n          }\n          return 0;\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  const breakUp = () => {\n    return matchedDataSource?.[activeIndex]?.text\n      ? `${ctrlValue}${matchedDataSource[activeIndex].text.slice(ctrlValue.length)}`\n      : undefined;\n  };\n\n  const wrapClassString = classNames('ria-wrap', styles['inline-autocomplete-wrap'], className); // `className` should cover `styles.wrap`\n  const inputClassString = classNames('ria-input', styles['inline-autocomplete-input']);\n  const completeClassString = classNames('ria-complete', styles['inline-autocomplete-complete']);\n  const completeContent = breakUp();\n\n  return (\n    <div className={wrapClassString}>\n      <textarea\n        ref={inputRef as any}\n        className={inputClassString}\n        value={ctrlValue}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        {...others}\n      />\n      <div className={completeClassString}>{completeContent}</div>\n    </div>\n  );\n};\n\nconst RefTextAreaAutocomplete = React.forwardRef<HTMLTextAreaElement, Props>(TextAreaAutocomplete);\nexport { RefTextAreaAutocomplete as TextAreaAutocomplete };\n"],"names":["KeyEnum","Autocomplete","props","ref","value","dataSource","className","_props$navigate","navigate","_props$caseSensitive","caseSensitive","onBlur","onFocus","onChange","onPressEnter","onSelect","others","_objectWithoutPropertiesLoose","_excluded","_useState","useState","innerVal","setInnerVal","_useState2","matchedDataSource","setMatchedDataSource","_useState3","activeIndex","setActiveIndex","ctrlValue","inputRef","useRef","React","useImperativeHandle","current","updateValue","findMatchedDataSourceItem","filter","_ref","text","startsWith","ignoreCase","equals","updateMatchedDataSource","handleChange","e","target","handleKeyDown","Object","values","includes","key","TAB","preventDefault","matchedDataSourceItem","ENTER","ARROW_UP","idx","length","ARROW_DOWN","breakUp","_matchedDataSource$ac","slice","undefined","wrapClassString","classNames","styles","inputClassString","completeClassString","completeContent","type","onKeyDown","RefAutoComplete","forwardRef","TextAreaAutocomplete","_props$navigate2","_props$caseSensitive2","_excluded2","_useState4","_useState5","_useState6","_ref2","_matchedDataSource$ac2","RefTextAreaAutocomplete"],"mappings":"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"}